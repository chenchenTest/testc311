[@EC.breadcrumbs/]

<div id="page-content" class="clearfix">
    <div class="page-header position-relative">
        <h1>编辑新闻
        <button class="btn btn-small btn-primary pull-right" onclick="loadFile('${path}/management/news');" >
            <i class="icon-reply"></i>返回
        </button>
        </h1>
    </div>

    <div class="row-fluid">
        <div class="span12">
	        <div class="tabbable">
	            <!-- <ul class="nav nav-tabs" id="modelTab">
	              <li class="active"><a data-toggle="tab" href="#nodeModel" id="nodeModelTab">Node Model</a></li>
	              <li class="hidden"><a data-toggle="tab" href="#contentModel" id="contentModelTab">Content Model</a></li>
	            </ul> -->
	            <div class="tab-content">
				  <div id="nodeModel" class="tab-pane in active">
				  	<div id="modelTips" style="display: none;">
					  	<p>You have opened Content Model，do you want to add Content Model?</p>
					  	<div class="form-actions">
			                <button class="btn btn-small" type="button" id="cancelAdd">
			                    <i class="icon-undo"></i> No
			                </button>
			                &nbsp; &nbsp; &nbsp;
			                <button class="btn btn-small btn-success" type="button" id="continueAdd">
			                    <i class="icon-ok"></i> Yes
			                </button>
			            </div>
				  	</div>
				  	<input type="hidden" id="newsTypeValue" value="${news.type!}">
					<form class="form-horizontal " action="${path!}/management/news/edit" method="post" id="newsForm">
						<input type="hidden" value="${news.id!}" name="id"/>
	                    <div class="row-fluid">
		                	<div class="span6">
					            <div class="control-group">
					                <label class="control-label" for="title">新闻标题:</label>
					                <div class="controls">
					                    <input type="text" placeholder="" id="title" name="title" value="${news.title!}">
					                </div>
					            </div>
		                	</div>
		                	<div class="span6">
					            <div class="control-group">
					                <label class="control-label" for="type">新闻类型:</label>
					                <div class="controls">
                                	<select id="type" name="type" data-placeholder="选择新闻类型">
                                    <option value="">--选择新闻类型--</option>
                                    <option value="公司新闻">公司新闻</option>
                                    <option value="行业新闻">行业新闻</option>
                                	</select>
                            </div>
					            </div>
		                	</div>
	                	</div>
	                	
	                	<div class="row-fluid">
		                	<div class="span6">
					            <div class="control-group">
					                <label class="control-label" for="content">新闻内容:</label>
					                <div class="controls">
					                    [@EC.form_editor id="content" name="content" value="${news.content!}" class="${class!}" url="${url!}"/]
					                </div>
					            </div>
		                	</div>
		                	
		                	<div class="span6">
					            <div class="control-group">
					                <label class="control-label" for="author">作者:</label>
					                <div class="controls">
					                    <input type="text" placeholder="" id="author" name="author" value="${news.author!}">
					                </div>
					            </div>
		                	</div>
		                	
	                	</div>
	                	
			
			            <div class="form-actions">
			                <button class="btn btn-small" type="reset">
			                    <i class="icon-undo"></i> 重置
			                </button>
			                &nbsp; &nbsp; &nbsp;
			                <button class="btn btn-small btn-success" id="submitBtn" type="" data-loading-text="Saving...">
			                    <i class="icon-ok"></i> 保存
			                </button>
			            </div>
			        </form>
				  </div>
				  <div id="contentModel" class="tab-pane"></div>
	            </div>
			</div>
        </div>
        <!-- PAGE CONTENT ENDS HERE -->
    </div>
</div>

<script type="text/javascript">
	$(function() {
		var type = $("#newsTypeValue").val();
		$("#type").val(type);
		formValidtor.valid({
            handler: "#newsForm",
            rules: {
                title: {
                    required: true
                }
            },
            messages: {
                title: {
                    required: "新闻标题不能为空"
                }
            },
            callbackFunc: function (data) {
                /* refreshTree(); */
                tips.success("操作成功");
                loadFile(path + '/management/news/edit');
            }
        })
	})
	
</script>
